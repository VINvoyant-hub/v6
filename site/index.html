<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VINvoyant — Diagnostic Consciousness Engine</title>
  <style>
    :root{
      --bg:#05060a; --ink:#eaf0ff; --muted:rgba(234,240,255,.72);
      --glass:rgba(20,24,35,.75); --stroke:rgba(234,240,255,.14);
      --accent:#7c5cff; --accent2:#00d4ff; --ok:#24ff7a; --bad:#ff2e6a;
      --shadow: 0 30px 90px rgba(0,0,0,.6);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 700px at 50% 20%, rgba(124,92,255,.18), transparent 60%),
        radial-gradient(900px 500px at 80% 70%, rgba(0,212,255,.12), transparent 60%),
        radial-gradient(900px 600px at 20% 80%, rgba(36,255,122,.08), transparent 60%),
        var(--bg);
      overflow-x:hidden;
    }

    .wrap{min-height:100%; display:grid; place-items:center; padding:28px 16px}
    .panel{
      width:min(1100px, 100%);
      background: linear-gradient(180deg, rgba(20,24,35,.72), rgba(10,12,18,.72));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .panel::before{
      content:""; position:absolute; inset:-2px;
      background: radial-gradient(700px 300px at 20% 15%, rgba(124,92,255,.28), transparent 60%),
                  radial-gradient(700px 300px at 85% 80%, rgba(0,212,255,.18), transparent 60%);
      opacity:.75; pointer-events:none;
    }
    .inner{
      position:relative;
      padding: 22px;
      display:grid;
      grid-template-columns: 1fr 1.05fr;
      gap: 18px;
      align-items:stretch;
    }
    @media (max-width: 980px){ .inner{grid-template-columns:1fr} }

    .left, .right{
      border-radius: 18px;
      border:1px solid rgba(234,240,255,.10);
      background: rgba(0,0,0,.25);
      padding: 18px;
      position:relative;
      overflow:hidden;
    }

    .h{
      margin:0 0 10px;
      font-size: 22px;
      letter-spacing:.2px;
    }
    .sub{margin:0 0 14px; color:var(--muted); line-height:1.5; font-size: 14px}

    .profileGrid{
      display:grid; gap:10px;
      grid-template-columns: 1fr 1fr;
    }
    @media (max-width: 520px){ .profileGrid{grid-template-columns:1fr} }

    .card{
      border-radius: 14px;
      border:1px solid rgba(234,240,255,.10);
      background: rgba(0,0,0,.25);
      padding: 12px 12px;
      position:relative;
      overflow:hidden;
      min-height: 74px;
    }
    .card .k{opacity:.72; font-size: 12px; text-transform:uppercase; letter-spacing:.12em}
    .card .v{margin-top:6px; font-weight:900; letter-spacing:.04em}

    /* Risk map (big visual) */
    .riskMap{
      margin-top: 12px;
      border-radius: 16px;
      border:1px solid rgba(234,240,255,.10);
      background:
        radial-gradient(220px 120px at 30% 40%, rgba(124,92,255,.22), transparent 60%),
        radial-gradient(220px 120px at 70% 55%, rgba(0,212,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.05), transparent);
      height: 240px;
      position:relative;
      overflow:hidden;
    }
    .pulse{
      position:absolute;
      width: 18px; height: 18px;
      border-radius: 999px;
      background: rgba(0,212,255,.95);
      box-shadow: 0 0 0 0 rgba(0,212,255,.28);
      animation: pop 1.4s ease-out infinite;
    }
    @keyframes pop{
      0%{transform:scale(.9); box-shadow:0 0 0 0 rgba(0,212,255,.28); opacity:.95}
      100%{transform:scale(1.1); box-shadow:0 0 0 26px rgba(0,212,255,0); opacity:.35}
    }

    .pulse.engine{left:28%; top:55%}
    .pulse.trans{left:55%; top:65%; background: rgba(124,92,255,.95)}
    .pulse.brake{left:74%; top:70%; background: rgba(255,46,106,.95)}

    /* Right: conversational stack */
    .stack{
      display:grid;
      gap: 12px;
    }
    .promptBox{
      border-radius: 16px;
      border:1px solid rgba(234,240,255,.10);
      background: rgba(0,0,0,.30);
      padding: 14px;
      position:relative;
      overflow:hidden;
    }
    .promptBox::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(90deg, transparent, rgba(0,212,255,.16), transparent);
      transform: translateX(-120%);
      animation: shimmer 2.6s ease-in-out infinite;
      opacity:.7;
      pointer-events:none;
    }
    @keyframes shimmer{
      0%{transform:translateX(-120%)}
      55%{transform:translateX(120%)}
      100%{transform:translateX(120%)}
    }

    .prompt{
      font-weight: 900;
      letter-spacing:.02em;
      margin:0 0 10px;
      font-size: 16px;
    }
    .input{
      width:100%;
      padding: 14px 14px;
      border-radius: 14px;
      border:1px solid rgba(234,240,255,.18);
      background: rgba(0,0,0,.45);
      color: var(--ink);
      font-size: 15px;
      outline:none;
      transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
    }
    .input:focus{
      border-color: rgba(0,212,255,.55);
      box-shadow: 0 0 0 4px rgba(0,212,255,.12);
      transform: translateY(-1px);
    }

    .actions{
      display:flex; gap:10px; justify-content:flex-end;
    }
    .btn{
      padding: 12px 14px;
      border-radius: 14px;
      border:1px solid rgba(234,240,255,.16);
      cursor:pointer;
      font-weight: 900;
      letter-spacing:.06em;
      text-transform: uppercase;
      background: rgba(0,0,0,.30);
      color: rgba(234,240,255,.92);
      transition: transform .16s ease, filter .16s ease;
    }
    .btn.primary{
      background: linear-gradient(135deg, rgba(124,92,255,.95), rgba(0,212,255,.72));
      color: #05060a;
      box-shadow: 0 18px 50px rgba(0,212,255,.10);
    }
    .btn:hover{transform: translateY(-2px); filter: brightness(1.08)}
    .btn:active{transform: translateY(0px); filter: brightness(.98)}

    /* Bossy guided overlay */
    .guide{
      position:fixed; inset:0;
      display:none; place-items:center;
      background: rgba(0,0,0,.7);
      backdrop-filter: blur(10px);
      padding: 18px;
      z-index: 20;
    }
    .guide.show{display:grid}
    .guideCard{
      width:min(760px,100%);
      border-radius: 22px;
      border:1px solid rgba(234,240,255,.16);
      background: linear-gradient(180deg, rgba(20,24,35,.92), rgba(10,12,18,.92));
      box-shadow: 0 40px 120px rgba(0,0,0,.7);
      overflow:hidden;
      position:relative;
    }
    .guideCard::before{
      content:""; position:absolute; inset:-2px;
      background: radial-gradient(500px 260px at 18% 20%, rgba(124,92,255,.35), transparent 60%),
                  radial-gradient(500px 260px at 82% 80%, rgba(0,212,255,.22), transparent 60%);
      opacity:.8; pointer-events:none;
    }
    .guideInner{position:relative; padding: 18px 18px 12px}
    .guideT{margin:0 0 6px; font-size: 20px}
    .guideP{margin:0; color: rgba(234,240,255,.78); line-height:1.5; font-size: 14px}
    .guideA{display:flex; gap:10px; justify-content:flex-end; padding: 0 18px 16px}
  </style>
</head>

<body>
  <div class="wrap">
    <main class="panel">
      <section class="inner">
        <div class="left">
          <h2 class="h">Vehicle Profile</h2>
          <p class="sub">This is the evolving profile. Your answers will reshape the risk model in real time.</p>

          <div class="profileGrid" id="profileGrid">
            <div class="card"><div class="k">Engine</div><div class="v" id="pEngine">—</div></div>
            <div class="card"><div class="k">Mileage</div><div class="v" id="pMiles">—</div></div>
            <div class="card"><div class="k">Failure Zone</div><div class="v" id="pZone">—</div></div>
            <div class="card"><div class="k">Confidence</div><div class="v" id="pConf">—</div></div>
          </div>

          <div class="riskMap" id="riskMap">
            <div class="pulse engine" id="pulseEngine" title="Engine risk"></div>
            <div class="pulse trans" id="pulseTrans" title="Transmission risk"></div>
            <div class="pulse brake" id="pulseBrake" title="Brake risk"></div>
          </div>
        </div>

        <div class="right">
          <h2 class="h">Diagnostic Consciousness</h2>
          <p class="sub">This is a guided interview. Answer the prompt. The system will adapt its reasoning.</p>

          <div class="stack">
            <div class="promptBox">
              <p class="prompt" id="promptText">What feels wrong?</p>
              <input class="input" id="answer" placeholder="Speak plainly. Give symptoms, not theories." />
              <div class="actions">
                <button class="btn" id="skip">Skip</button>
                <button class="btn primary" id="next">Next</button>
              </div>
            </div>

            <div class="promptBox" id="logBox" style="display:none">
              <p class="prompt">Session Log</p>
              <div id="log" style="color:rgba(234,240,255,.78); font-size:14px; line-height:1.5"></div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div class="guide" id="guide">
    <div class="guideCard">
      <div class="guideInner">
        <h3 class="guideT" id="gT">Diagnostic Mode</h3>
        <p class="guideP" id="gP">
          Answer in symptoms. The machine will not be impressed by guesses. It will be impressed by clarity.
        </p>
      </div>
      <div class="guideA">
        <button class="btn" id="gClose">Understood</button>
        <button class="btn primary" id="gFocus">Focus Input</button>
      </div>
    </div>
  </div>

  <script>
    const prompts = [
      "What feels wrong?",
      "When did it start?",
      "What does it sound/smell/feel like?",
      "Have you seen any lights or codes?"
    ];

    const state = {
      step: 0,
      answers: {}
    };

    const promptText = document.getElementById('promptText');
    const answer = document.getElementById('answer');
    const next = document.getElementById('next');
    const skip = document.getElementById('skip');

    const pEngine = document.getElementById('pEngine');
    const pMiles = document.getElementById('pMiles');
    const pZone = document.getElementById('pZone');
    const pConf = document.getElementById('pConf');

    const pulseEngine = document.getElementById('pulseEngine');
    const pulseTrans = document.getElementById('pulseTrans');
    const pulseBrake = document.getElementById('pulseBrake');

    const logBox = document.getElementById('logBox');
    const log = document.getElementById('log');

    const guide = document.getElementById('guide');
    const gClose = document.getElementById('gClose');
    const gFocus = document.getElementById('gFocus');

    function showGuide(){ guide.classList.add('show'); }
    function hideGuide(){ guide.classList.remove('show'); }

    function clamp(n,min,max){ return Math.max(min, Math.min(max, n)); }

    // “Reasoning visual” = we adjust pulse size and color intensity based on text features.
    function reweightRisk(){
      const a = Object.values(state.answers).join(" ").toLowerCase();

      // toy scoring
      let engine = 40, trans = 35, brake = 20;
      if(/misfire|shake|rough|stall|smoke|oil|overheat|knock/.test(a)) engine += 40;
      if(/shift|slip|gear|jerk|trans|fluid|clunk/.test(a)) trans += 45;
      if(/brake|squeal|grind|abs|pedal|rotor/.test(a)) brake += 55;

      engine = clamp(engine, 10, 95);
      trans  = clamp(trans, 10, 95);
      brake  = clamp(brake, 10, 95);

      pulseEngine.style.transform = `scale(${1 + engine/120})`;
      pulseTrans.style.transform  = `scale(${1 + trans/120})`;
      pulseBrake.style.transform  = `scale(${1 + brake/120})`;

      // profile updates (fake but persuasive)
      pEngine.textContent = engine > 70 ? "High Concern" : engine > 50 ? "Moderate" : "Low";
      pZone.textContent   = trans > engine && trans > brake ? "Drivetrain" : engine > brake ? "Powertrain" : "Braking";
      pMiles.textContent  = state.answers[1] ? state.answers[1] : "—";
      const conf = Math.min(92, 38 + Object.keys(state.answers).length * 14);
      pConf.textContent = conf + "%";
    }

    function appendLog(){
      logBox.style.display = "block";
      log.innerHTML = "";
      Object.entries(state.answers).forEach(([idx,txt])=>{
        const q = prompts[Number(idx)] || "—";
        log.innerHTML += `<div style="margin-bottom:10px">
          <div style="opacity:.75; font-weight:900; letter-spacing:.04em">${q}</div>
          <div style="opacity:.9">${txt}</div>
        </div>`;
      });
    }

    function advance(store){
      if(store){
        const val = answer.value.trim();
        if(val) state.answers[state.step] = val;
      }
      answer.value = "";
      state.step++;

      reweightRisk();
      appendLog();

      if(state.step >= prompts.length){
        promptText.textContent = "Diagnostic intake complete.";
        answer.placeholder = "You’re done here. Next sections will take over.";
        answer.disabled = true;
        next.disabled = true;
        skip.disabled = true;
        return;
      }

      promptText.textContent = prompts[state.step];
      answer.focus();
    }

    next.addEventListener('click', ()=> advance(true));
    skip.addEventListener('click', ()=> advance(false));
    answer.addEventListener('keydown', (e)=>{ if(e.key==="Enter") advance(true); });

    // Initial fake baseline
    pEngine.textContent="Awaiting Input";
    pMiles.textContent="—";
    pZone.textContent="—";
    pConf.textContent="—";

    setTimeout(showGuide, 600);
    gClose.addEventListener('click', hideGuide);
    gFocus.addEventListener('click', ()=>{ hideGuide(); answer.focus(); });

    answer.focus();
  </script>
</body>
</html>